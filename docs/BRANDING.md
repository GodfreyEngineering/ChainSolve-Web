# Branding (W6.1)

> How ChainSolve brand assets are managed and used across the app.

---

## Asset Locations

| Location | Purpose | Bundled? |
|---|---|---|
| `src/assets/brand/` | SVGs imported by Vite (available in JS bundle) | Yes — only `logo-wide-text.svg` (42KB) is small enough |
| `public/brand/` | Static assets served at `/brand/*` URLs | No — served as-is |

**Why two locations?** Most icon SVGs are ~1MB (they embed raster data). Vite would inline or copy them into the bundle, bloating it. Only `logo-wide-text.svg` (42KB) is imported as a module; everything else is referenced by URL.

---

## Asset Inventory

| Filename | Size | Description |
|---|---|---|
| `icon-tiny` | SVG: 1MB, PNG: 84KB | Favicon/tab icon |
| `icon-square` | SVG: 1MB, PNG: 6MB | Square app icon |
| `icon-square-text` | SVG: 1MB, PNG: 4MB | Square icon with text overlay |
| `icon-square-overlay` | SVG: 1MB, PNG: 5.5MB | Square icon with overlay |
| `logo-wide` | SVG: 1MB, PNG: 320KB | Wide logo (icon only, no wordmark) |
| `logo-wide-text` | SVG: 42KB, PNG: 67KB | Wide logo with "ChainSolve" wordmark |

---

## How to Replace Logos

1. **Keep filenames stable** — the codebase references them by name
2. Drop new SVG/PNG files into both `src/assets/brand/` and `public/brand/`
3. If replacing the favicon: also update `public/favicon.svg` (copy of `icon-tiny.svg`)
4. If replacing the apple-touch-icon: also update `public/apple-touch-icon.png` (copy of `icon-tiny.png`)
5. Run `npm run build` to verify no broken imports

---

## Brand Module (`src/lib/brand.ts`)

All brand paths are centralized in this module:

```typescript
import { BRAND } from '../lib/brand'

// Bundled (Vite module import):
BRAND.logoWideText  // logo-wide-text.svg (42KB)

// Static URLs (served from /brand/):
BRAND.logoWide      // /brand/logo-wide.svg
BRAND.iconSquare    // /brand/icon-square.svg
BRAND.iconTiny      // /brand/icon-tiny.svg
BRAND.iconTinyPng   // /brand/icon-tiny.png
```

Helper: `chooseLogoForTheme(isDark)` returns the appropriate logo URL for the current theme. Currently always returns `BRAND.logoWideText` (dark theme only). When light theme ships, add a dark-text variant.

---

## Where Branding Appears

| Location | Asset Used | Notes |
|---|---|---|
| Browser favicon | `public/favicon.svg` (= icon-tiny.svg) | SVG favicon |
| Apple touch icon | `public/apple-touch-icon.png` (= icon-tiny.png) | iOS home screen |
| Login page header | `logo-wide-text.svg` (bundled) | Replaces text "ChainSolve" |
| AppShell nav | `logo-wide-text.svg` (bundled) | Clickable, links to /app |
| Settings nav | `logo-wide-text.svg` (bundled) | Clickable, links to /app |
| Plot export footer | Text annotation in Vega-Lite spec | "Generated by ChainSolve", toggle in PlotInspector |

---

## Theme Variants

Currently only dark theme is supported. When light theme is added:

1. Create `logo-wide-text-dark.svg` (dark text variant for light backgrounds)
2. Update `chooseLogoForTheme()` in `src/lib/brand.ts` to return the dark variant when `isDark === false`
3. The nav and login page use `BRAND.logoWideText` directly — update them to use `chooseLogoForTheme()` instead
